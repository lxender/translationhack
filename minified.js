"use strict";(function(){"undefined"==typeof translationButtonHere&&(translationButtonHere=!0,songSlug=location.pathname.replace(/\//,"").replace(/-lyrics$/,""),$.get("https://genius.com/api/search?q=\"Genius-ubersetzungen-"+songSlug,function(a){translationUrl=a.response.hits[0].result.url}),arrowSvg=$(".inline_icon.inline_icon--short.inline_icon--up_1")[0].outerHTML,button=$("<button>").attr({class:"square_button square_button--transparent u-half_horizontal_margins drop-target drop-element-attached-top drop-target-attached-bottom drop-abutted drop-abutted-left drop-element-attached-left drop-target-attached-left",onclick:"showTranslationOptions()"}).html("Translations "+arrowSvg).insertBefore($(".lyrics_controls")[0].lastElementChild),showTranslationOptions=function showTranslationOptions(){dropdownOnPage=!!$(".js-translation-dropdown")[0],dropdownOnPage?dropdownHidden?(dropdownElement.css({display:"block"}),dropdownHidden=!1):(dropdownElement.css({display:"none"}),dropdownHidden=!0):(style=getComputedStyle(button[0]),["padding","margin","border"].forEach(function(a){window[a]={left:parseInt(style[a+"Left"]),right:parseInt(style[a+"Right"]),top:parseInt(style[a+"Top"]),bottom:parseInt(style[a+"Bottom"])}}),rect=button[0].getBoundingClientRect(),rect={left:rect.left-margin.left,right:rect.right-margin.right-padding.left-padding.right,top:rect.top-margin.top,bottom:rect.bottom-margin.bottom-padding.top-padding.bottom-border.bottom},rect.height=rect.bottom-rect.top,rect.width=rect.right-rect.left,$("body").append($("<div>").attr({class:"js-translation-dropdown drop drop-element drop-element-attached-top drop-target-attached-bottom drop-open-transitionend drop-abutted drop-abutted-left drop-element-attached-left drop-target-attached-left drop-enabled drop-open drop-after-open",style:"top: 0px; left: 0px; position: absolute; display: block; transform: translateX("+rect.left+"px) translateY("+(rect.top+rect.height)+"px)"}).append($("<div>").attr({class:"drop-content"}).append($("<div>").append($("<div>").attr({class:"tooltip tooltip--no_padding"}).append($("<a>").attr({class:"tooltip-list_item",href:translationUrl}).text("German")))))),dropdownElement=$(".js-translation-dropdown"),window.addEventListener("click",function(a){!1!==a.target.classList.contains("js-translation-dropdown")||!dropdownElement||!1!==a.target.classList.contains("square_button")||"block"!==dropdownElement.css("display")||(dropdownElement.css({display:"none"}),dropdownHidden=!0)}))})})();
